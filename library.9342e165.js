!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire78b5;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire78b5=a);var o=a("bpxeT"),c=a("2TvXO"),s=a("fKAmx"),i=a("4Nugj");function u(e){i.refs.slickSlider.innerHTML=e.map((function(e){var t=e.original_title,n=e.poster_path,r=e.vote_average,a=e.movie_id,o=e.name;return'<div class="slider__item"><img class="slider-image" src='.concat(s.IMG_URL).concat(n,' alt="').concat(t).concat(o,'" data-id="').concat(a,'" onerror="this.onerror=null;this.src="https://i.postimg.cc/6pzyh7Wc/pngwing-com.png";" /><span class="trending-raiting">').concat(r.toFixed(1),"</span></div>")})).join(""),$(".slider").slick({arrows:!1,centerMode:!0,lazyLoad:"progressive",autoplay:!0,autoplaySpeed:1e3,infinite:!0,speed:1e3,adaptiveHeigt:!0,cssEase:"ease",slidesToShow:8,responsive:[{breakpoint:1100,settings:{slidesToShow:6,infinite:!0}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:480,settings:{slidesToShow:2}}]})}fetch("https://api.themoviedb.org/3/trending/all/day?api_key=2b316c342fe13f9049052886494c29f1").then((function(e){return e.json()})).then((function(e){return e.results})).then(u).catch((function(e){return console.log(e)})),a("9dHD0"),a("awpQC"),a("6HTNl"),a("9K2dW"),a("dsadE"),a("f6Vol");var l=a("jREuN"),p=a("fkNhc"),d=a("gQOBw"),f=a("6m2hf");s=a("fKAmx");a("A7ncr"),a("3sNoF"),console.log("Firebase!");var v=(0,p.initializeApp)({apiKey:"AIzaSyAQNEF1EZQq4hRQq21AEqmnTA4ysock-bY",authDomain:"filmoteka-77997.firebaseapp.com",projectId:"filmoteka-77997",storageBucket:"filmoteka-77997.appspot.com",messagingSenderId:"555325927364",appId:"1:555325927364:web:5f447ca8d4265db75c3e91",measurementId:"G-LZ05WYL8RJ"}),g=(0,d.getAuth)(v),h=(0,f.getFirestore)(v),m=document.querySelector(".library__watched-btn"),w=document.querySelector(".library__queue-btn"),x=document.querySelector(".trending-movies__list");function b(e){return _.apply(this,arguments)}function _(){return _=e(o)(e(c).mark((function t(n){var r,a;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.map(function(){var t=e(o)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.themoviedbApi.getMovieById(n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=3,Promise.all(r);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function k(e){console.log(e);var t=e.map((function(e){var t=e.title,n=e.poster_path,r=e.release_date,a=e.genre_ids,o=(e.gender,e.name),c=e.first_air_date,s=e.vote_average,i=e.popularity,u=e.id,l='\n        <div class="movie-card__rating-wrp">\n        <div class="movie-card__rating">'.concat(s?s.toFixed(1):i.toFixed(1),"</div>\n        </div>\n        ");return'\n\t<li class="trending-movie__card">\n\t\t<img\n\t\t\tclass="trending-movie__img"\n\t\t\tsrc="'.concat(n?"https://image.tmdb.org/t/p/w500".concat(n):url,'"\n\t\t\talt="').concat(t||o,'"\n\t\t\tloading="lazy"\n      data-id="').concat(u,'"\n\t\t/>\n\t\t<div class="wrapper">\n\t\t\t<p class="movie-card__title">\n\t\t\t\t').concat(t?t.toUpperCase():o.toUpperCase(),' </p>\n\t\t\t\t<div class="movie-card__wrp">\n\t\t\t\t<div class="movie-card__genre-wrp">\n\t\t\t\t').concat(a?genreCode:"",'\n\t\t\t\t</div>\n\t\t\t\t<div class="movie-card__year card-info">').concat(r?parseFloat(r)||"":parseFloat(c)||"",' </div>\n\t\t\t\t<div class="rating-wrapper">\n\t\t\t\t').concat(s>0?l:"","</div>\n\t\t\t\t</div>\n\t\t</div>\n\t</li>")})).join("");x.innerHTML=t}var y,E,L=(y=e(o)(e(c).mark((function t(){var n,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=txtEmail.value,r=txtPassword.value,e.prev=2,e.next=5,(0,d.signInWithEmailAndPassword)(g,n,r);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("There was an error: ".concat(e.t0)),(0,l.showLoginError)(e.t0);case 11:case"end":return e.stop()}}),t,null,[[2,7]])}))),function(){return y.apply(this,arguments)}),T=(E=e(o)(e(c).mark((function t(){var n,r,a,s,i;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=txtEmail.value,r=txtPassword.value,t.prev=2,t.next=5,(0,d.createUserWithEmailAndPassword)(g,n,r);case 5:a=t.sent,s=(0,f.doc)(h,"users",a.user.uid),i=function(){var t=e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.setDoc)(s,{email:n});case 3:console.log("This user has been written to the Firestore"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("I got an error! ".concat(error));case 9:case"end":return e.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),i(),console.log("This user has been written to the database"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("There was an error: ".concat(t.t0)),(0,l.showLoginError)(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,12]])}))),function(){return E.apply(this,arguments)}),A=function(){var t=e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.onAuthStateChanged)(g,(function(e){e?((0,l.showApp)(),(0,l.showLoginState)(e),(0,l.hideLoginError)()):((0,l.showLoginForm)(),lblAuthState.innerHTML="You're not logged in.")}));case 1:case"end":return e.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.signOut)(g);case 2:case"end":return e.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();l.btnLogin.addEventListener("click",L),l.btnSignup.addEventListener("click",T),l.btnLogout.addEventListener("click",S),A();var F,q,I=(F=e(o)(e(c).mark((function t(){var n,r,a,s;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],null===(r=g.currentUser)){t.next=9;break}return console.log("Generating watched list"),a=(0,f.collection)(h,"users",r.uid,"watched"),s=function(){var t=e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.getDocs)(a);case 3:return e.sent.forEach((function(e){n.push(e.id)})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log("I got an error! ".concat(error));case 11:case"end":return e.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",s());case 9:console.log("You're not logged in.");case 10:case"end":return t.stop()}}),t)}))),function(){return F.apply(this,arguments)}),M=(q=e(o)(e(c).mark((function t(){var n,r,a,s;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],null===(r=g.currentUser)){t.next=9;break}return console.log("Generating queue list"),a=(0,f.collection)(h,"users",r.uid,"queue"),s=function(){var t=e(o)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.getDocs)(a);case 3:return e.sent.forEach((function(e){n.push(e.id)})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log("I got an error! ".concat(error));case 11:case"end":return e.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",s());case 9:console.log("You're not logged in.");case 10:case"end":return t.stop()}}),t)}))),function(){return q.apply(this,arguments)}),N=function(){var t=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return n=e.sent,e.prev=3,e.next=6,b(n);case 6:k(e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.message);case 13:case"end":return e.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return n=e.sent,e.prev=3,e.next=6,b(n);case 6:k(e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.message);case 13:case"end":return e.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();m.addEventListener("click",N),w.addEventListener("click",U)}();
//# sourceMappingURL=library.9342e165.js.map
