!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},o=n.parcelRequire78b5;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var o={id:e,exports:{}};return r[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},n.parcelRequire78b5=o);var a=o("bpxeT"),c=o("2TvXO"),i=o("fKAmx"),s=o("4Nugj");function u(e){s.refs.slickSlider.innerHTML=e.map((function(e){var n=e.original_title,r=e.poster_path,t=(e.vote_average,e.movie_id),o=e.name;return'<div class="slider__item"><img class="slider-image" src='.concat(i.IMG_URL).concat(r,' alt="').concat(n).concat(o,'" data-id="').concat(t,'" onerror="this.onerror=null;this.src="https://i.postimg.cc/6pzyh7Wc/pngwing-com.png";" /></div>')})).join(""),$(".slider").slick({arrows:!1,centerMode:!0,lazyLoad:"progressive",autoplay:!0,autoplaySpeed:1e3,slidesToShow:6,infinite:!0,speed:1e3,adaptiveHeigt:!0,cssEase:"ease"})}fetch("https://api.themoviedb.org/3/trending/all/day?api_key=2b316c342fe13f9049052886494c29f1").then((function(e){return e.json()})).then((function(e){return e.results})).then(u).catch((function(e){return console.log(e)}));var l=o("jREuN"),p=o("fkNhc"),f=o("gQOBw"),d=o("6m2hf");console.log("Firebase!");var h,g,v=(0,p.initializeApp)({apiKey:"AIzaSyAQNEF1EZQq4hRQq21AEqmnTA4ysock-bY",authDomain:"filmoteka-77997.firebaseapp.com",projectId:"filmoteka-77997",storageBucket:"filmoteka-77997.appspot.com",messagingSenderId:"555325927364",appId:"1:555325927364:web:5f447ca8d4265db75c3e91",measurementId:"G-LZ05WYL8RJ"}),w=(0,f.getAuth)(v),m=(0,d.getFirestore)(v),b=(h=e(a)(e(c).mark((function n(){var r,t;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=txtEmail.value,t=txtPassword.value,e.prev=2,e.next=5,(0,f.signInWithEmailAndPassword)(w,r,t);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("There was an error: ".concat(e.t0)),(0,l.showLoginError)(e.t0);case 11:case"end":return e.stop()}}),n,null,[[2,7]])}))),function(){return h.apply(this,arguments)}),x=(g=e(a)(e(c).mark((function n(){var r,t,o,i,s;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=txtEmail.value,t=txtPassword.value,n.prev=2,n.next=5,(0,f.createUserWithEmailAndPassword)(w,r,t);case 5:o=n.sent,i=(0,d.doc)(m,"users",o.user.uid),s=function(){var n=e(a)(e(c).mark((function n(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.setDoc)(i,{email:r});case 3:console.log("This user has been written to the Firestore"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("I got an error! ".concat(error));case 9:case"end":return e.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),s(),console.log("This user has been written to the database"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(2),console.log("There was an error: ".concat(n.t0)),(0,l.showLoginError)(n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,12]])}))),function(){return g.apply(this,arguments)}),k=function(){var n=e(a)(e(c).mark((function n(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,f.onAuthStateChanged)(w,(function(e){e?((0,l.showApp)(),(0,l.showLoginState)(e),(0,l.hideLoginError)()):((0,l.showLoginForm)(),lblAuthState.innerHTML="You're not logged in.")}));case 1:case"end":return e.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),y=function(){var n=e(a)(e(c).mark((function n(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.signOut)(w);case 2:case"end":return e.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();l.btnLogin.addEventListener("click",b),l.btnSignup.addEventListener("click",x),l.btnLogout.addEventListener("click",y),k();var L,E,A=(L=e(a)(e(c).mark((function n(){return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,f.onAuthStateChanged)(w,(function(n){if(n){console.log("Generating watched list");var r=(0,d.collection)(m,"users",n.uid,"watched"),t=function(){var n=e(a)(e(c).mark((function n(){var t;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.getDocs)(r);case 3:return t=e.sent,arr=[],t.forEach((function(e){arr.push(e.id)})),console.log(arr),e.abrupt("return",arr);case 10:e.prev=10,e.t0=e.catch(0),console.log("I got an error! ".concat(error));case 13:case"end":return e.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();t()}else(0,l.showLoginForm)(),lblAuthState.innerHTML="You're not logged in."}));case 1:case"end":return n.stop()}}),n)}))),function(){return L.apply(this,arguments)}),_=(E=e(a)(e(c).mark((function n(){return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,f.onAuthStateChanged)(w,(function(n){if(n){console.log("Generating queue list");var r=(0,d.collection)(m,"users",n.uid,"queue"),t=function(){var n=e(a)(e(c).mark((function n(){var t;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.getDocs)(r);case 3:return t=e.sent,arr=[],t.forEach((function(e){arr.push(e.id)})),console.log(arr),e.abrupt("return",arr);case 10:e.prev=10,e.t0=e.catch(0),console.log("I got an error! ".concat(error));case 13:case"end":return e.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();t()}else(0,l.showLoginForm)(),lblAuthState.innerHTML="You're not logged in."}));case 1:case"end":return n.stop()}}),n)}))),function(){return E.apply(this,arguments)}),S=document.querySelector(".library__watched-btn"),T=document.querySelector(".library__queue-btn");S.addEventListener("click",(function(){A()})),T.addEventListener("click",(function(){_()}))}();
//# sourceMappingURL=library.46c354a4.js.map
