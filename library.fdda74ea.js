var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},n=e.parcelRequire78b5;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in t){var n=t[e];delete t[e];var i={id:e,exports:{}};return o[e]=i,n.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,o){t[e]=o},e.parcelRequire78b5=n);var i=n("jfYt8"),r=n("krGWQ");function s(e){r.refs.slickSlider.innerHTML=e.map((({original_title:e,poster_path:o,vote_average:t,movie_id:n,name:r})=>`<div class="slider__item"><img class="slider-image" src=${i.IMG_URL}${o} alt="${e}${r}" data-id="${n}" onerror="this.onerror=null;this.src="https://i.postimg.cc/6pzyh7Wc/pngwing-com.png";" /><span class="trending-raiting">${t.toFixed(1)}</span></div>`)).join(""),$(".slider").slick({arrows:!1,centerMode:!0,lazyLoad:"progressive",autoplay:!0,autoplaySpeed:1e3,infinite:!0,speed:1e3,adaptiveHeigt:!0,cssEase:"ease",slidesToShow:8,responsive:[{breakpoint:1100,settings:{slidesToShow:4,infinite:!0}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:480,settings:{slidesToShow:2}}]})}fetch("https://api.themoviedb.org/3/trending/all/day?api_key=2b316c342fe13f9049052886494c29f1").then((e=>e.json())).then((({results:e})=>e)).then(s).catch((e=>console.log(e)));var a=n("cWqtQ"),l=n("gKkQl"),c=n("eyjy7"),d=n("ftYLF");console.log("Firebase!");const g=(0,l.initializeApp)({apiKey:"AIzaSyAQNEF1EZQq4hRQq21AEqmnTA4ysock-bY",authDomain:"filmoteka-77997.firebaseapp.com",projectId:"filmoteka-77997",storageBucket:"filmoteka-77997.appspot.com",messagingSenderId:"555325927364",appId:"1:555325927364:web:5f447ca8d4265db75c3e91",measurementId:"G-LZ05WYL8RJ"}),h=(0,c.getAuth)(g),u=(0,d.getFirestore)(g);a.btnLogin.addEventListener("click",(async()=>{const e=txtEmail.value,o=txtPassword.value;try{await(0,c.signInWithEmailAndPassword)(h,e,o)}catch(e){console.log(`There was an error: ${e}`),(0,a.showLoginError)(e)}})),a.btnSignup.addEventListener("click",(async()=>{const e=txtEmail.value,o=txtPassword.value;try{const t=await(0,c.createUserWithEmailAndPassword)(h,e,o),n=(0,d.doc)(u,"users",t.user.uid);(async()=>{try{await(0,d.setDoc)(n,{email:e}),console.log("This user has been written to the Firestore")}catch{console.log(`I got an error! ${error}`)}})(),console.log("This user has been written to the database")}catch(e){console.log(`There was an error: ${e}`),(0,a.showLoginError)(e)}})),a.btnLogout.addEventListener("click",(async()=>{await(0,c.signOut)(h)})),(async()=>{(0,c.onAuthStateChanged)(h,(e=>{e?((0,a.showApp)(),(0,a.showLoginState)(e),(0,a.hideLoginError)()):((0,a.showLoginForm)(),lblAuthState.innerHTML="You're not logged in.")}))})();const p=document.querySelector(".library__watched-btn"),w=document.querySelector(".library__queue-btn");p.addEventListener("click",(()=>{(async()=>{let e=[];(0,c.onAuthStateChanged)(h,(o=>{if(o){console.log("Generating watched list");const t=(0,d.collection)(u,"users",o.uid,"watched");(async()=>{try{(await(0,d.getDocs)(t)).forEach((o=>{console.log(o.id),e.push(Number(o.id))})),console.log(e)}catch{console.log(`I got an error! ${error}`)}})()}else(0,a.showLoginForm)(),lblAuthState.innerHTML="You're not logged in."}))})()})),w.addEventListener("click",(()=>{(async()=>{let e=[];(0,c.onAuthStateChanged)(h,(o=>{if(o){console.log("Generating queue list");const t=(0,d.collection)(u,"users",o.uid,"queue");(async()=>{try{(await(0,d.getDocs)(t)).forEach((o=>{console.log(o.id),e.push(o.id)})),console.log(e)}catch{console.log(`I got an error! ${error}`)}})()}else(0,a.showLoginForm)(),lblAuthState.innerHTML="You're not logged in."}))})()}));
//# sourceMappingURL=library.fdda74ea.js.map
